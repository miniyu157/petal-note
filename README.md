<div align="center">

<img src="./public/favicon.png" alt="Petal Logo" width="120" />

# Petal Note

*é£å¹è½çš„èŠ±ç“£, å’Œé‚£äº›æ— å¤„å®‰æ”¾çš„ç¢ç¢å¿µã€‚*

[![MIT License](https://img.shields.io/badge/License-MIT-pink.svg?style=flat-square)](./LICENSE)
![Vanilla JS](https://img.shields.io/badge/JavaScript-Vanilla-yellow?logo=javascript&style=flat-square)
![No Build](https://img.shields.io/badge/Build-None-success.svg?style=flat-square)

</div>

## ğŸŒ¸ ç®€ä»‹

Petal æ˜¯ä¸€ä¸ªæç®€, å”¯ç¾, æ— éœ€ä»»ä½•æ„å»ºå·¥å…·é“¾çš„çº¯å‰ç«¯æ—¥è®°/ç¢ç¢å¿µæ¡†æ¶ã€‚æ²¡æœ‰å†—ä½™çš„ä¾èµ–, åªéœ€æœ€çº¯ç²¹çš„ HTML, TXT å’Œ TOML, å³å¯åœ¨ä»»ä½•æ”¯æŒé™æ€æ‰˜ç®¡çš„å¹³å°ä¸Šéƒ¨ç½²ã€‚

**ğŸŒ¸ [Live Demo](https://petal-note.vercel.app/) ğŸŒ¸**

### âœ¨ ç‰¹æ€§

* **è‡ªç”±éšå†™**: æ²¡æœ‰å›ºå®šçš„æ—¶é—´æˆ³æ ¼å¼ä¸æ’åº, æ ¼å¼ç”±ä½ å®šä¹‰
* **æå°½çº¯ç²¹**: æ ¸å¿ƒä»…ä¸º `index.html` å’Œ `config.toml`, æ— ä¸»æµæ¡†æ¶ä¾èµ–
* **æ–‡ä»¶é©±åŠ¨**: æ‰€æœ‰æ•°æ®å‡ä¸ºäººç±»å¯è¯»çš„ TOML, TXT, æ—¥è®°æºè¿˜å¯é…ç½®ä¸ºç½‘ç»œ URL
* **ç§å¯†æ—¥è®°**: å¯é…ç½®ç§˜å¯†æ—¶é—´çº¿, ç”± AES-GCM é©±åŠ¨, å¹¶ä¸”å¤–è§‚ä¸Šæ‹¥æœ‰æ›´åŠ æ²‰æµ¸çš„æ°›å›´
* **æ ‡ç­¾ç³»ç»Ÿ**: è‡ªåŠ¨æå–æ­£æ–‡é¦–è¡Œçš„ `#æ ‡ç­¾` å¹¶æ¸²æŸ“è¿‡æ»¤å¯¼èˆªç»„ä»¶
* **æè‡´å“åº”**: ç²¾å¿ƒè°ƒæ ¡çš„åŠ¨ç”»ä¸æ’ç‰ˆ, å…¼é¡¾æ¡Œé¢ç«¯ä¸ç§»åŠ¨ç«¯çš„å®Œç¾è§¦è§‰åé¦ˆ

---

## ğŸƒ éƒ¨ç½²ä¸ä½¿ç”¨

### æ–¹å¼ä¸€: â˜˜ï¸ ä¼ ç»Ÿé™æ€æ‰˜ç®¡

1. å…‹éš†æœ¬ä»“åº“, æˆ–ç›´æ¥ä¸‹è½½ `index.html`, ä»¥åŠåŒ…å«é»˜è®¤é…ç½®çš„ `config.toml`

    ```bash
    git clone https://github.com/miniyu157/petal-note.git
    ```

2. æŒ‰ç…§ä½ çš„å–œå¥½ä¿®æ”¹ `config.toml` ä¸­çš„åŸºæœ¬ä¿¡æ¯
3. æŒ‡å®š `source_data` å¹¶å†™ä¸‹ä½ çš„ç¢ç¢å¿µ, æ ¼å¼å‚è€ƒæ–‡æ¡£å†…è¯´æ˜, æ”¯æŒæ‹‰å–è¿œç¨‹ URL
4. å°†æ•´ä¸ªæ–‡ä»¶å¤¹æ‰˜ç®¡åˆ°ä»»æ„é™æ€æœåŠ¡å¹³å°, å¦‚ Cloudflare Pages, Vercel, GitHub Pages, ç”šè‡³æ˜¯ä¸€ä¸ªæ™®é€šçš„ Nginx æœåŠ¡å™¨

### æ–¹å¼äºŒ: ğŸ€ å†…å®¹ä¸æ¡†æ¶åˆ†ç¦» (æ¨è, ä¿æŒæœ€æ–°)

å¦‚æœä½ å¸Œæœ›å¤–è§‚å’Œç‰¹æ€§æ°¸è¿œä¿æŒæœ€æ–°, å¹¶ä¸ä¸ªäººæ—¥è®°è§£è€¦

1. å»ºç«‹ä¸€ä¸ªå…¨æ–°çš„ç©ºä»“åº“, å°† `config.toml`, ä½ çš„æ•°æ®æ–‡ä»¶, èµ„æºæ–‡ä»¶å­˜æ”¾è‡³ `public/`, æ— éœ€åˆ›å»º `index.html`
2. åœ¨é™æ€æœåŠ¡å¹³å°æ‰˜ç®¡ä½ çš„ä»“åº“
3. åœ¨éƒ¨ç½²è®¾ç½®ä¸­, å°† **Build command** è®¾ç½®ä¸º:

   ```bash
   curl -fsSL https://raw.githubusercontent.com/miniyu157/petal-note/539b6b3/build.sh | bash -e
    ```

    [æäº¤ 539b6b3 - build.sh](https://github.com/miniyu157/petal-note/commit/539b6b3)

4. å°†æ„å»ºè¾“å‡ºç›®å½•è®¾ç½®ä¸º `public`

è¿™æ ·, æ¯æ¬¡æ¨é€æ—¥è®°æ—¶, éƒ½ä¼šè‡ªåŠ¨æ‹‰å–å¹¶æ³¨å…¥æœ€æ–°ç‰ˆæœ¬çš„ Petal Note éª¨æ¶, ä¸ªäººå†…å®¹ä»“åº“ä¿æŒçº¯å‡€

> è‹¥æƒ³è¦ä»…æ›´æ–°éª¨æ¶, åˆ™æ‰‹åŠ¨è§¦å‘ä¸€æ¬¡ `Redeploy`

---

## ğŸ° ç§˜å¯†æ—¶é—´çº¿

å½“è®¾ç½® `private_source` åå³å¯ç”Ÿæ•ˆ

å› ä¸ºæ²¡æœ‰æ—¶é—´æˆ³ç­‰çº¦å®š, ç§˜å¯†æ—¶é—´çº¿ä¸å…¬å¼€æ—¶é—´çº¿ç›¸äº’ç‹¬ç«‹. ç§˜å¯†æ—¶é—´çº¿é€šè¿‡ **AES-GCM** é©±åŠ¨, å¯†è¯­åŒ¹é…æˆåŠŸå³å¯è¿›å…¥

ä¸ªäººä»“åº“ä¸­æ— éœ€æ‰‹åŠ¨ä¸Šä¼ åŠ å¯†æ–‡ä»¶, petal-note æä¾›äº† `build.sh` å’Œ `cipher-thoughts.py` ç­‰éƒ¨ç½²å®ç”¨å·¥å…·

å®ƒä»¬ä¼šåœ¨é™æ€æ‰˜ç®¡å¹³å°éƒ¨ç½²æ—¶è¯»å– `config.toml` ä¸­ `private_source` è®¾ç½®çš„æ–‡ä»¶åç§°, ç„¶åå°è¯•ä»ä»“åº“æ ¹ç›®å½•æ‰¾åˆ° **åŒåçš„æ˜æ–‡æ—¥è®°æ–‡ä»¶** å’Œ `.env` ä¸­è®¾ç½®çš„å¯†è¯­,
å°†æ—¥è®°åŠ å¯†è‡ªåŠ¨ç”Ÿæˆåˆ° `public/`, æ‰€æœ‰è¿‡ç¨‹æ–‡ä»¶ä¸ä¼šæš´éœ²åœ¨ä½ çš„ç½‘ç«™ä¸Š

### ä¸ªäººä»“åº“ç»“æ„æ¦‚è§ˆ

æ— éœ€æ”¾å…¥ `index.html`, ç§˜å¯†æ—¶é—´çº¿æ–‡ä»¶, åŒ…æ‹¬ **.env**, **å¯ä»¥å­˜å‚¨ä¸ºæ˜æ–‡**åœ¨ä½ çš„ä¸ªäººä»“åº“ä¸­, åªè¦ä½ åœ¨é™æ€æ‰˜ç®¡å¹³å°è®¾ç½®äº†æ ¹ç›®å½•ä¸º `public`

> [!WARNING]
> ä¸è¦å°†ä»“åº“è®¾ç½®ä¸º public, é™¤éä½ æƒ³æš´éœ²æ‰€æœ‰çš„ä¸œè¥¿

> [!TIP]
> å¦‚æœä¸æƒ³è®©äººè½»æ˜“è·å–ä½ çš„æ—¶é—´çº¿, å¯ä»¥æ ¹æ®ä¸ªäººæƒ…å†µä¸ºç½‘ç«™  
> æ·»åŠ  `x-robots-tag: noindex, nofollow` æ ‡è®°

```plaintext
REPO
 â”œâ”€â”€ .env           // å¯é€‰, ç§˜å¯†æ—¶é—´çº¿çš„å¯†è¯­
 â”œâ”€â”€ private.txt    // å¯é€‰, ç§˜å¯†æ—¶é—´çº¿çš„æ˜æ–‡æ–‡ä»¶
 â””â”€â”€ public
     â”œâ”€â”€ ...            // å…¶ä»–èµ„æºæ–‡ä»¶
     â”œâ”€â”€ config.toml    // é…ç½®æ–‡ä»¶
     â”œâ”€â”€ data.txt       // å…¬å¼€çš„æ—¶é—´çº¿æ–‡ä»¶
     â””â”€â”€ assets
         â”œâ”€â”€ favicon.ico    // å›¾æ ‡èµ„æº
         â”œâ”€â”€ font.woff2     // å­—ä½“
         â””â”€â”€ ...jpg         // å…¶ä»–èµ„æºæ–‡ä»¶
```

---

## ğŸ“ æ•°æ®æ ¼å¼å‚è€ƒ

### âš™ï¸ config.toml

ç”¨äºå®šä¹‰ç«™ç‚¹çš„å…¨å±€ä¿¡æ¯, åŒ…æ‹¬æ ‡é¢˜, æè¿°, å›¾æ ‡ä»¥åŠå­—ä½“è®¾ç½®, æ‰€æœ‰é¡¹å‡ä¸ºå¯é€‰  
åŒ…æ‹¬ `data_source` ä»¥å†…çš„èµ„æºé¡¹ç›®éƒ½å¯ä»¥è®¾ç½®ä¸ºç½‘ç»œ URL, è¿è¡Œæ—¶å°†è‡ªåŠ¨æ‹‰å–

```toml
data_source = "./data.txt"
private_source = "./private.txt.dec"

title = "Petal"
header_title = "Petal"
header_subtitle = """
é£å¹è½çš„èŠ±ç“£, å’Œé‚£äº›æ— å¤„å®‰æ”¾çš„ç¢ç¢å¿µã€‚
"""
private_tip="è¾“å…¥è½»è¯­è§£é”æ¢¦å¢ƒ..."
home_url = ""

icon = "./assets/favicon.ico"
font = "./assets/font.ttf"
theme_color = "#FFB6C1"

load_delay = 800 # ms
data_order = "asc" # [asc|desc]
```

### ğŸ“– data_source, private_source

ä½¿ç”¨ `---` ä½œä¸ºæ¯æ¡æ—¥è®°çš„åˆ†å‰²çº¿

```text
2026-02-18 19:40
#æ—¥è®° #ç¢ç¢å¿µ åœ¨è¿™é‡Œç§ä¸‹ä¸€é¢—ç§å­, å¸Œæœ›èƒ½å¼€å‡ºæ¸©æŸ”çš„èŠ±ã€‚
ä¸é—®èŠ±æœŸ, åªæ„¿è¿‡ç¨‹é™å¥½ã€‚
---
2026-02-18 æ·±å¤œ
é•¿å†…å®¹ä¼šè‡ªåŠ¨æ£€æµ‹é«˜åº¦å¹¶åœ¨åº•éƒ¨å‘ˆç°æ¸éšæŠ˜å ã€‚
![çŒ«å’ªå›¾ç‰‡](./assets/cat.jpeg)
æ”¯æŒç®€å•çš„ Markdown å›¾ç‰‡è¯­æ³•, ä»¥åŠç›´æ¥å†™å…¥çš„ https:// é“¾æ¥, å®ƒä»¬ä¼šè¢«è‡ªåŠ¨è§£æå¹¶é«˜äº®ã€‚
```

---

## ğŸ› ï¸ AES-GCM å·¥å…·

ä»“åº“ä¸­çš„ `cipher-thoughts.py` æ˜¯ä¸€ä¸ªæç®€çš„ AES-GCM å·¥å…·, ç”± python åº“ cryptography é©±åŠ¨

æ¯æ¬¡åŠ å¯†æ—¶ç”Ÿæˆ 12 å­—èŠ‚çš„ IV, æ‰€ä»¥å³ä½¿å†…å®¹å’Œå¯†ç ç›¸åŒ, æ¯æ¬¡çš„å¯†æ–‡ä¹Ÿæ˜¯ä¸åŒçš„

```console
> ./cipher-thoughts.py
usage: cipher-thoughts.py [-d] [-t TEXT] [-f FILE][-o [OUT]] [-O [OVERWRITE_OUT]] [-p PASSWORD] [-h] [filepath]

æç®€ AES-GCM å·¥å…·

positional arguments:
  filepath              è¦å¤„ç†çš„æ–‡ä»¶

options:
  -d, --decrypt         è§£å¯†æ¨¡å¼
  -t, --text TEXT       ç›´æ¥å¤„ç†ä¼ å…¥çš„æ–‡æœ¬å†…å®¹
  -f, --file FILE       å¤„ç†æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ (åŒä½ç½®å‚æ•°)
  -o, --out [OUT]       å°†ç»“æœè¾“å‡ºåˆ°æ–‡ä»¶ (ä¸æŒ‡å®šæ–‡ä»¶ååˆ™è‡ªåŠ¨å»é™¤æˆ–åŠ å…¥ .dec åç¼€)
  -O, --overwrite-out [OVERWRITE_OUT]
                        å°†ç»“æœè¾“å‡ºåˆ°æ–‡ä»¶ (ä¸æŒ‡å®šæ–‡ä»¶ååˆ™è‡ªåŠ¨å»é™¤æˆ–åŠ å…¥ .dec åç¼€, ä¸æ£€æŸ¥è¦†ç›–)
  -p, --password PASSWORD
                        æŒ‡å®šå¯†ç  (ä¼˜å…ˆäºç¯å¢ƒå˜é‡åŠ.env)
  -h, --help            æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯å¹¶é€€å‡º
```

---

<div align="center">
<sub>Stay gentle, stay pure.</sub>
</div>
